[project]
name = "frida"
version = "0.1.0"
requires-python = "==3.12"
dependencies = [
    "numpy",
    "scipy",
    "pydantic",
    "pytest",
]

[tool.uv.sources]
hdl21 = { path = "../libs/Hdl21", editable = true }
vlsirtools = { path = "../libs/Vlsir/VlsirTools", editable = true }

[project.optional-dependencies]
dev = [
    "hdl21",
    "vlsirtools",
]

[tool.basedpyright]
typeCheckingMode = "off"

[tool.ruff.lint]
ignore = ["E741"]  # Allow 'l' for transistor length

[tool.pytest.ini_options]
testpaths = ["alt"]
python_files = ["test_*.py"]
# Suppress protobuf deprecation warning from vlsirtools dependency.
# The warning is about Python 3.14 C API changes in google._upb._message.
# Vlsir pins protobuf~=4.23 (in libs/Vlsir/bindings/python/setup.py),
# which prevents upgrading to protobuf 5.x/6.x where this may be fixed.
filterwarnings = [
    "ignore:Type google._upb._message:DeprecationWarning",
]
