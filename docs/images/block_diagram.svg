<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="900" height="700" viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <style>
    .label { font: 18px monospace; }
    .bus-label { font: 14px monospace; }
    .small-label { font: 12px monospace; }
    .rect { fill: #fff; stroke: #000; stroke-width:2; }
    .mux { fill: #eee; stroke: #000; stroke-width:2; }
    .circle { fill: #fff; stroke: #000; stroke-width:2; }
    .line { stroke: #000; stroke-width:2; }
  </style>
  <!-- Inputs -->
  <polygon points="40,120 60,110 60,130" class="rect"/>
  <text x="10" y="123" class="label">sdi</text>
  <polygon points="40,180 60,170 60,190" class="rect"/>
  <text x="10" y="183" class="label">sclk</text>
  <polygon points="40,240 60,230 60,250" class="rect"/>
  <text x="0" y="243" class="label">cs_b</text>
  <polygon points="850,60 830,50 830,70" class="rect"/>
  <text x="860" y="67" class="label">config</text>
  <!-- Output -->
  <polygon points="850,650 830,640 830,660" class="rect"/>
  <text x="860" y="653" class="label">sdo</text>
  <!-- Bus lines -->
  <line x1="60" y1="120" x2="160" y2="120" class="line"/>
  <text x="85" y="110" class="bus-label">0</text>
  <rect x="160" y="110" width="20" height="20" class="rect"/>
  <text x="162" y="125" class="bus-label">1:7</text>
  <line x1="180" y1="120" x2="250" y2="120" class="line"/>
  <line x1="60" y1="180" x2="250" y2="180" class="line"/>
  <line x1="60" y1="240" x2="250" y2="240" class="line"/>
  <!-- Registers -->
  <rect x="250" y="90" width="60" height="40" class="rect"/>
  <text x="255" y="118" class="small-label">&#x25B6;</text>
  <rect x="250" y="150" width="60" height="40" class="rect"/>
  <text x="255" y="178" class="small-label">&#x25B6;&#x25B6;&#x25B6;</text>
  <!-- Comparators and adders -->
  <circle cx="380" cy="180" r="22" class="circle"/>
  <text x="368" y="188" class="label">=</text>
  <rect x="410" y="218" width="28" height="28" class="rect"/>
  <text x="418" y="237" class="label">111</text>
  <circle cx="550" cy="480" r="22" class="circle"/>
  <text x="540" y="488" class="label">+</text>
  <rect x="590" y="470" width="28" height="28" class="rect"/>
  <text x="598" y="488" class="label">1</text>
  <!-- Muxes -->
  <polygon points="620,60 670,80 620,100" class="mux"/>
  <text x="630" y="90" class="label">0</text>
  <text x="655" y="90" class="label">1</text>
  <polygon points="620,200 670,220 620,240" class="mux"/>
  <text x="630" y="230" class="label">0</text>
  <text x="655" y="230" class="label">1</text>
  <polygon points="400,600 450,620 400,640" class="mux"/>
  <text x="410" y="630" class="label">0</text>
  <text x="435" y="630" class="label">1</text>
  <!-- Buses and connections (partial) -->
  <polyline points="180,120 250,120 310,120 310,180 358,180" class="line"/>
  <polyline points="180,120 250,120 310,120 310,60 620,60" class="line"/>
  <polyline points="180,180 250,180 310,180" class="line"/>
  <polyline points="180,240 250,240 310,240 310,220 620,220" class="line"/>
  <polyline points="670,80 800,60" class="line"/>
  <polyline points="670,220 800,220 800,640 830,650" class="line"/>
  <polyline points="450,620 800,650" class="line"/>
  <!-- Output bus slice -->
  <rect x="800" y="630" width="25" height="20" class="rect"/>
  <text x="803" y="645" class="bus-label">0:6</text>
  <rect x="825" y="630" width="25" height="20" class="rect"/>
  <text x="828" y="645" class="bus-label">7</text>
</svg>